@using Microsoft.AspNetCore.Components.Authorization

<MudNavMenu>
    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard">
        Dashboard
    </MudNavLink>
    <MudNavLink Href="/send" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Science">
        Simulate Transaction
    </MudNavLink>
    <MudNavLink Href="/transactions" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Receipt">
        Transactions
    </MudNavLink>
    <MudNavLink Href="/reviews" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.RateReview">
        Pending Reviews
    </MudNavLink>
    <MudNavLink Href="/reports" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Assessment">
        Compliance Reports
    </MudNavLink>

    @* ── Manager+ only ────────────────────────────────────────────── *@
    <AuthorizeView Roles="Manager,Admin,SuperAdmin">
        <Authorized>
            <MudNavLink Href="/rules" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Rule">
                Risk Rules
            </MudNavLink>
            <MudNavLink Href="/watchlists" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.PlaylistAddCheck">
                Watchlists
            </MudNavLink>
            <MudNavLink Href="/rules/marketplace" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Store">
                Rule Marketplace
            </MudNavLink>
            <MudNavLink Href="/billing" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.CreditCard">
                Billing
            </MudNavLink>
            <MudNavLink Href="/audit" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.History">
                Audit Log
            </MudNavLink>
        </Authorized>
    </AuthorizeView>

    @* ── Admin+ only ──────────────────────────────────────────────── *@
    <AuthorizeView Roles="Admin,SuperAdmin">
        <Authorized>
            <MudDivider Class="my-2" />
            <MudText Typo="Typo.overline" Class="ml-4 mt-1" Color="Color.Secondary">Admin</MudText>
            <MudNavLink Href="/pricing" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Paid">
                Pricing
            </MudNavLink>
            <MudNavLink Href="/admin/settings" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Settings">
                Organization
            </MudNavLink>
            <MudNavLink Href="/admin/team" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Group">
                Team
            </MudNavLink>
            <MudNavLink Href="/admin/roles" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.AdminPanelSettings">
                Roles &amp; Permissions
            </MudNavLink>
            <MudNavLink Href="/admin/api-keys" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Key">
                API Keys
            </MudNavLink>
            <MudNavLink Href="/admin/webhooks" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Webhook">
                Webhooks
            </MudNavLink>
            <MudNavLink Href="/admin/analytics" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Analytics">
                Analytics
            </MudNavLink>
            <MudNavLink Href="/admin/reports" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Assessment">
                Advanced Reports
            </MudNavLink>
            <MudNavLink Href="/admin/notifications" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.NotificationsActive">
                Notifications
            </MudNavLink>
            <MudNavLink Href="/admin/ml-models" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Psychology">
                ML Risk Models
            </MudNavLink>
            <MudNavLink Href="/admin/gdpr" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Shield">
                GDPR Compliance
            </MudNavLink>
        </Authorized>
    </AuthorizeView>

    @* ── Platform Owner only ──────────────────────────────────────── *@
    <AuthorizeView Roles="SuperAdmin">
        <Authorized>
            <MudDivider Class="my-2" />
            <MudText Typo="Typo.overline" Class="ml-4 mt-1" Color="Color.Secondary">Platform</MudText>
            <MudNavLink Href="/super-admin/tenants" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Business">
                Tenant Management
            </MudNavLink>
        </Authorized>
    </AuthorizeView>
</MudNavMenu>

